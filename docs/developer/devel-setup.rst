####################################
Setting up a development environment
####################################

.. contents::

Some steps described here overlap the ones described in the
`installation instructions <../admin/installation.rst>`__.

Step 0: Dependencies
====================

Follow the corresponding section from the
`installation instructions <../admin/installation.rst>`__.

Step 1: Setting up the database
===============================

Follow the corresponding section from the
`installation instructions <../admin/installation.rst>`__.

Step 2: Setting up the files
============================

Clone the PhpReport repository ``https://github.com/Igalia/phpreport`` on a
location available for the web server. Usual default locations for web servers
are:

* On Debian, Ubuntu: ``/var/www/``
* On Fedora, RHEL: ``/var/www/html/``

Alternatively, clone it elsewhere and create a link from the web server
directory.

Step 3: Creating the schema and initial data of the database
============================================================

The configuration file with the default values already exists in the repository,
so you don't have to touch it unless you changed any data on the first step.

Then, you can follow the step three in the
`installation instructions <../admin/installation.rst>`__ (either the manual or
the wizard setup) to create the schema and initial data.

Step 4: Setup autogenerated files
=================================

Create the documentation files and minified JS with ``make help`` and
``make minify``.

You should be able to debug the minified JS because there are source map files
in place. But take into account you have to re-generate them with
``make minify`` every time you modify a ``.js`` file.

If you have trouble debugging via source maps or you are frequently modifying
JavaScript source, you may want to modify the corresponding ``<script>`` tag in
PHP code so it points to the original file (suffixed ``.js`` instead of
``.min.js``.

Step 5: Try the application
===========================

Use a browser to open the correct URL of your web server (very likely,
``http://localhost/phpreport``), then use the user name ``admin`` and the
password ``admin`` to try a user with full privileges, or ``user``` with
password ``user`` to try a login with restricted permissions. You will also be
able to create users with any permission level once you are logged in as
``admin``.
